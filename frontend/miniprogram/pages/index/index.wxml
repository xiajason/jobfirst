<!--index.wxml-->
<view class="container">
  <!-- é¡¶éƒ¨æœç´¢åŒºåŸŸ -->
  <view class="search-section">
    <view class="search-box">
      <view class="search-input-wrapper">
        <icon type="search" size="16" color="#999"></icon>
        <input 
          class="search-input" 
          placeholder="æœç´¢èŒä½ã€å…¬å¸ã€æŠ€èƒ½" 
          value="{{searchKeyword}}"
          bindinput="onSearchInput"
          bindconfirm="onSearch"
        />
      </view>
    </view>
  </view>

  <!-- è½®æ’­å›¾ -->
  <view class="banner-section" wx:if="{{banners.length > 0}}">
    <swiper 
      class="banner-swiper" 
      indicator-dots="{{true}}" 
      autoplay="{{true}}" 
      interval="{{3000}}" 
      duration="{{500}}"
      circular="{{true}}"
    >
      <swiper-item wx:for="{{banners}}" wx:key="id">
        <image 
          class="banner-image" 
          src="{{item.image}}" 
          mode="aspectFill"
          bindtap="onBannerTap"
          data-item="{{item}}"
        />
      </swiper-item>
    </swiper>
  </view>

  <!-- å¿«æ·åŠŸèƒ½ -->
  <view class="quick-actions">
    <view class="action-grid">
      <view class="action-item" bindtap="navigateToJobs" data-type="recommend">
        <view class="action-icon">ğŸ’¼</view>
        <text class="action-text">æ¨èèŒä½</text>
      </view>
      <view class="action-item" bindtap="navigateToJobs" data-type="nearby">
        <view class="action-icon">ğŸ“</view>
        <text class="action-text">é™„è¿‘èŒä½</text>
      </view>
      <view class="action-item" bindtap="navigateToResume">
        <view class="action-icon">ğŸ“</view>
        <text class="action-text">æˆ‘çš„ç®€å†</text>
      </view>
      <view class="action-item" bindtap="navigateToApply">
        <view class="action-icon">ğŸ“‹</view>
        <text class="action-text">æŠ•é€’è®°å½•</text>
      </view>
    </view>
  </view>

  <!-- çƒ­é—¨èŒä½ -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">çƒ­é—¨èŒä½</text>
      <text class="section-more" bindtap="navigateToJobs">æŸ¥çœ‹æ›´å¤š</text>
    </view>
    <view class="job-list">
      <view 
        class="job-item card" 
        wx:for="{{hotJobs}}" 
        wx:key="id"
        bindtap="navigateToJobDetail"
        data-job="{{item}}"
      >
        <view class="job-header">
          <view class="job-title">{{item.title}}</view>
          <view class="job-salary text-primary">{{item.salary}}</view>
        </view>
        <view class="job-company">{{item.company}}</view>
        <view class="job-tags">
          <text class="tag tag-primary" wx:for="{{item.tags}}" wx:key="*this" wx:for-item="tag">{{tag}}</text>
        </view>
        <view class="job-meta">
          <text class="job-location">ğŸ“ {{item.location}}</text>
          <text class="job-experience">ğŸ’¼ {{item.experience}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- æ¨èå…¬å¸ -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">æ¨èå…¬å¸</text>
      <text class="section-more" bindtap="navigateToCompanies">æŸ¥çœ‹æ›´å¤š</text>
    </view>
    <view class="company-list">
      <view 
        class="company-item card" 
        wx:for="{{recommendCompanies}}" 
        wx:key="id"
        bindtap="navigateToCompanyDetail"
        data-company="{{item}}"
      >
        <view class="company-info">
          <image class="company-logo" src="{{item.logo}}" mode="aspectFit"></image>
          <view class="company-details">
            <view class="company-name">{{item.name}}</view>
            <view class="company-desc">{{item.description}}</view>
            <view class="company-meta">
              <text class="company-size">{{item.size}}</text>
              <text class="company-industry">{{item.industry}}</text>
            </view>
          </view>
        </view>
        <view class="company-jobs">
          <text class="job-count">{{item.jobCount}}ä¸ªåœ¨æ‹›èŒä½</text>
        </view>
      </view>
    </view>
  </view>

  <!-- è¡Œä¸šåˆ†ç±» -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">è¡Œä¸šåˆ†ç±»</text>
    </view>
    <view class="industry-grid">
      <view 
        class="industry-item" 
        wx:for="{{industries}}" 
        wx:key="id"
        bindtap="navigateToIndustry"
        data-industry="{{item}}"
      >
        <view class="industry-icon">{{item.icon}}</view>
        <text class="industry-name">{{item.name}}</text>
        <text class="industry-count">{{item.jobCount}}ä¸ªèŒä½</text>
      </view>
    </view>
  </view>
</view>
