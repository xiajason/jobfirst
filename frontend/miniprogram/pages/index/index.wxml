<!--index.wxml-->
<view class="container">
  <!-- é¡¶éƒ¨æœç´¢æ  -->
  <view class="search-bar">
    <view class="search-input" bindtap="goToSearch">
      <text class="search-icon">ğŸ”</text>
      <text class="search-placeholder">æœç´¢èŒä½ã€å…¬å¸ã€æŠ€èƒ½...</text>
    </view>
  </view>

  <!-- è½®æ’­å›¾ -->
  <view class="banner-section">
    <swiper class="banner-swiper" indicator-dots="{{true}}" autoplay="{{true}}" interval="{{3000}}" duration="{{500}}">
      <swiper-item wx:for="{{banners}}" wx:key="id">
        <image class="banner-image" src="{{item.image}}" mode="aspectFill" bindtap="onBannerTap" data-item="{{item}}"/>
      </swiper-item>
    </swiper>
  </view>

  <!-- å¿«æ·åŠŸèƒ½ -->
  <view class="quick-actions">
    <view class="action-grid">
      <view class="action-item" wx:for="{{quickActions}}" wx:key="id" bindtap="onActionTap" data-action="{{item}}">
        <view class="action-icon">{{item.icon}}</view>
        <text class="action-text">{{item.text}}</text>
      </view>
    </view>
  </view>

  <!-- æ¨èèŒä½ -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">æ¨èèŒä½</text>
      <text class="section-more" bindtap="goToJobs">æŸ¥çœ‹æ›´å¤š</text>
    </view>
    <view class="job-list">
      <view class="job-item" wx:for="{{recommendJobs}}" wx:key="id" bindtap="goToJobDetail" data-id="{{item.id}}">
        <view class="job-header">
          <text class="job-title">{{item.title}}</text>
          <text class="job-salary">{{item.salary}}</text>
        </view>
        <view class="job-company">{{item.company}}</view>
        <view class="job-tags">
          <text class="tag tag-primary" wx:for="{{item.tags}}" wx:key="*this" wx:for-item="tag">{{tag}}</text>
        </view>
        <view class="job-footer">
          <text class="job-location">{{item.location}}</text>
          <text class="job-time">{{item.time}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- æ•°æ®åˆ†æ (Plus/Proæ¨¡å¼) -->
  <view class="section" wx:if="{{hasAnalytics}}">
    <view class="section-header">
      <text class="section-title">å¸‚åœºæ´å¯Ÿ</text>
    </view>
    <view class="analytics-grid">
      <view class="analytics-item">
        <text class="analytics-number">{{marketData.jobCount}}</text>
        <text class="analytics-label">åœ¨æ‹›èŒä½</text>
      </view>
      <view class="analytics-item">
        <text class="analytics-number">{{marketData.companyCount}}</text>
        <text class="analytics-label">æ‹›è˜ä¼ä¸š</text>
      </view>
      <view class="analytics-item">
        <text class="analytics-number">{{marketData.avgSalary}}</text>
        <text class="analytics-label">å¹³å‡è–ªèµ„</text>
      </view>
    </view>
  </view>

  <!-- AIåŠ©æ‰‹ (Plus/Proæ¨¡å¼) -->
  <view class="section" wx:if="{{hasAIChat}}">
    <view class="section-header">
      <text class="section-title">AIæ±‚èŒåŠ©æ‰‹</text>
    </view>
    <view class="ai-chat-card" bindtap="goToAIChat">
      <view class="ai-chat-content">
        <text class="ai-chat-title">æ™ºèƒ½ç®€å†ä¼˜åŒ–</text>
        <text class="ai-chat-desc">è®©AIå¸®ä½ ä¼˜åŒ–ç®€å†ï¼Œæå‡é¢è¯•æœºä¼š</text>
      </view>
      <view class="ai-chat-icon">ğŸ¤–</view>
    </view>
  </view>

  <!-- ä¼ä¸šæœåŠ¡ (Proæ¨¡å¼) -->
  <view class="section" wx:if="{{hasEnterprise}}">
    <view class="section-header">
      <text class="section-title">ä¼ä¸šæœåŠ¡</text>
    </view>
    <view class="enterprise-services">
      <view class="service-item" wx:for="{{enterpriseServices}}" wx:key="id" bindtap="goToEnterprise" data-service="{{item}}">
        <view class="service-icon">{{item.icon}}</view>
        <view class="service-content">
          <text class="service-title">{{item.title}}</text>
          <text class="service-desc">{{item.description}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- çƒ­é—¨è¡Œä¸š -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">çƒ­é—¨è¡Œä¸š</text>
    </view>
    <view class="industry-grid">
      <view class="industry-item" wx:for="{{industries}}" wx:key="id" bindtap="goToIndustry" data-industry="{{item}}">
        <image class="industry-icon" src="{{item.icon}}" mode="aspectFit"/>
        <text class="industry-name">{{item.name}}</text>
        <text class="industry-count">{{item.jobCount}}ä¸ªèŒä½</text>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨æç¤º -->
  <view class="footer-tip">
    <text class="tip-text">å½“å‰æ¨¡å¼ï¼š{{modeText}}</text>
    <text class="tip-upgrade" wx:if="{{mode !== 'pro'}}" bindtap="goToUpgrade">å‡çº§ä½“éªŒæ›´å¤šåŠŸèƒ½</text>
  </view>
</view>
