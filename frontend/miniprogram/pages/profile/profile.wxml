<!--pages/profile/profile.wxml-->
<view class="container">
  <!-- 用户信息卡片 -->
  <view class="user-card">
    <view class="user-info">
      <image class="avatar" src="{{userInfo.avatar || '/images/default-avatar.png'}}" mode="aspectFill"></image>
      <view class="user-details">
        <view class="username">{{userInfo.name || '未登录'}}</view>
        <view class="user-type">{{userInfo.userType === 'jobseeker' ? '求职者' : '招聘方'}}</view>
      </view>
    </view>
    <view class="user-stats">
      <view class="stat-item">
        <view class="stat-number">{{stats.applications || 0}}</view>
        <view class="stat-label">投递记录</view>
      </view>
      <view class="stat-item">
        <view class="stat-number">{{stats.favorites || 0}}</view>
        <view class="stat-label">收藏职位</view>
      </view>
      <view class="stat-item">
        <view class="stat-number">{{stats.interviews || 0}}</view>
        <view class="stat-label">面试邀请</view>
      </view>
    </view>
  </view>

  <!-- 功能菜单 -->
  <view class="menu-section">
    <view class="menu-group">
      <view class="menu-item" bindtap="goToApplications">
        <view class="menu-icon">📋</view>
        <view class="menu-content">
          <view class="menu-title">我的投递</view>
          <view class="menu-desc">查看投递记录和状态</view>
        </view>
        <view class="menu-arrow">></view>
      </view>
      
      <view class="menu-item" bindtap="goToFavorites">
        <view class="menu-icon">❤️</view>
        <view class="menu-content">
          <view class="menu-title">我的收藏</view>
          <view class="menu-desc">收藏的职位和公司</view>
        </view>
        <view class="menu-arrow">></view>
      </view>
      
      <view class="menu-item" bindtap="goToResume">
        <view class="menu-icon">📄</view>
        <view class="menu-content">
          <view class="menu-title">我的简历</view>
          <view class="menu-desc">管理个人简历</view>
        </view>
        <view class="menu-arrow">></view>
      </view>
    </view>

    <view class="menu-group" wx:if="{{app.hasFeature('analytics')}}">
      <view class="menu-item" bindtap="goToAnalytics">
        <view class="menu-icon">📊</view>
        <view class="menu-content">
          <view class="menu-title">数据分析</view>
          <view class="menu-desc">求职数据统计</view>
        </view>
        <view class="menu-arrow">></view>
      </view>
    </view>

    <view class="menu-group" wx:if="{{app.hasFeature('enterprise')}}">
      <view class="menu-item" bindtap="goToEnterprise">
        <view class="menu-icon">🏢</view>
        <view class="menu-content">
          <view class="menu-title">企业服务</view>
          <view class="menu-desc">企业招聘服务</view>
        </view>
        <view class="menu-arrow">></view>
      </view>
    </view>

    <view class="menu-group">
      <view class="menu-item" bindtap="goToSettings">
        <view class="menu-icon">⚙️</view>
        <view class="menu-content">
          <view class="menu-title">设置</view>
          <view class="menu-desc">账号和隐私设置</view>
        </view>
        <view class="menu-arrow">></view>
      </view>
      
      <view class="menu-item" bindtap="showFeedback">
        <view class="menu-icon">💬</view>
        <view class="menu-content">
          <view class="menu-title">意见反馈</view>
          <view class="menu-desc">帮助我们改进产品</view>
        </view>
        <view class="menu-arrow">></view>
      </view>
      
      <view class="menu-item" bindtap="showAbout">
        <view class="menu-icon">ℹ️</view>
        <view class="menu-content">
          <view class="menu-title">关于我们</view>
          <view class="menu-desc">版本信息和联系方式</view>
        </view>
        <view class="menu-arrow">></view>
      </view>
    </view>
  </view>

  <!-- 版本信息 -->
  <view class="version-info">
    <view class="version-text">当前版本: {{version}}</view>
    <view class="mode-text">模式: {{modeText}}</view>
  </view>

  <!-- 退出登录 -->
  <view class="logout-section" wx:if="{{isLoggedIn}}">
    <button class="logout-btn" bindtap="logout">退出登录</button>
  </view>
</view>
